<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gift for my buddi üíù</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            overflow-x: hidden;
            background: linear-gradient(135deg, #ffc3e6 0%, #ffe5f0 50%, #fff0f5 100%);
            min-height: 100vh;
            position: relative;
        }

        /* Floating Hearts Animation */
        .floating-heart {
            position: fixed;
            width: 20px;
            height: 20px;
            background: #ff69b4;
            transform: rotate(45deg);
            animation: float 6s infinite;
            opacity: 0.7;
            z-index: 1;
        }

        .floating-heart:before,
        .floating-heart:after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: #ff69b4;
            border-radius: 50%;
        }

        .floating-heart:before {
            top: -10px;
            left: 0;
        }

        .floating-heart:after {
            top: 0;
            left: -10px;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(45deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100px) rotate(45deg);
                opacity: 0;
            }
        }

        /* Couple Animation */
        .couple-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 5;
            animation: floatCouple 3s ease-in-out infinite;
        }

        @keyframes floatCouple {
            0%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            50% {
                transform: translateX(-50%) translateY(-15px);
            }
        }

        .couple {
            display: flex;
            gap: 20px;
            align-items: center;
            justify-content: center;
        }

        .couple img {
            width: 150px;
            height: 150px;
            object-fit: contain;
        }

        /* Main Container */
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            z-index: 10;
            padding-top: 200px;
        }

        /* Initial Question Screen */
        .question-screen {
            text-align: center;
            animation: fadeIn 1s ease-in;
        }

        .question-screen.hidden {
            display: none;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Cat GIF */
        .cat-gif {
            width: 200px;
            height: 200px;
            margin: 0 auto 20px;
            animation: bounce 2s infinite;
        }

        .cat-gif img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-20px);
            }
        }

        h1 {
            font-size: 48px;
            color: #ff1493;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.3);
        }

        .buttons {
            display: flex;
            gap: 30px;
            margin-top: 40px;
            justify-content: center;
            align-items: center;
        }

        button {
            padding: 20px 50px;
            font-size: 24px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Comic Sans MS', cursive;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .yes-btn {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
        }

        .yes-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(255, 20, 147, 0.4);
        }

        .no-btn {
            background: linear-gradient(135deg, #ddd, #bbb);
            color: #666;
            position: relative;
        }

        /* Panda Bear GIF Container */
        .panda-gif {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 250px;
            height: 250px;
            display: none;
            z-index: 1000;
            animation: slideInRight 0.5s ease-out;
        }

        .panda-gif.visible {
            display: block;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(300px);
            }
            to {
                transform: translateX(0);
            }
        }

        .panda-gif img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        /* Answer Screen */
        .answer-screen {
            display: none;
            text-align: center;
            animation: fadeIn 1s ease-in;
        }

        .answer-screen.visible {
            display: block;
        }

        .happy-gif {
            width: 200px;
            height: 200px;
            margin: 0 auto 20px;
        }

        .happy-gif img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .answer-screen h2 {
            font-size: 42px;
            color: #ff1493;
            margin: 20px 0;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .options {
            display: flex;
            gap: 40px;
            margin-top: 50px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .option-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            width: 200px;
        }

        .option-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.3);
        }

        .option-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
        }

        .option-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .option-text {
            font-size: 20px;
            color: #ff1493;
            font-weight: bold;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
        }

        .modal.visible {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: slideIn 0.5s ease-out;
            margin: 20px;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 30px;
            cursor: pointer;
            background: none;
            border: none;
            color: #ff1493;
            padding: 5px 15px;
            z-index: 10;
        }

        /* Envelope Styles */
        #envelope {
            position: relative;
            width: 280px;
            height: 180px;
            border-bottom-left-radius: 6px;
            border-bottom-right-radius: 6px;
            margin-left: auto;
            margin-right: auto;
            margin-top: 50px;
            margin-bottom: 50px;
            background-color: #d9534f;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            cursor: pointer;
        }

        .front {
            position: absolute;
            width: 0;
            height: 0;
            z-index: 3;
        }

        .flap {
            border-left: 140px solid transparent;
            border-right: 140px solid transparent;
            border-bottom: 82px solid transparent;
            border-top: 98px solid #d9534f;
            transform-origin: top;
        }

        .pocket {
            border-left: 140px solid #f5a3a2;
            border-right: 140px solid #f5a3a2;
            border-bottom: 90px solid #ff6f61;
            border-top: 90px solid transparent;
            border-bottom-left-radius: 6px;
            border-bottom-right-radius: 6px;
        }

        .letter {
            position: relative;
            background-color: #fff;
            width: 90%;
            margin-left: auto;
            margin-right: auto;
            height: 90%;
            top: 5%;
            border-radius: 6px;
            box-shadow: 0 2px 26px rgba(0, 0, 0, 0.12);
            font-family: "Dancing Script", cursive;
        }

        .words {
            position: absolute;
            left: 10%;
            width: 80%;
            height: 14%;
            background-color: #ffe6e6;
        }

        .words.line1 {
            top: 10%;
            font-size: 0.5rem;
            width: 30%;
            height: 7%;
            font-size: 0.9rem;
            color: #ff1493;
        }

        .words.line2 {
            top: 30%;
            text-align: center;
            font-size: 1.1rem;
            color: #ff1493;
        }

        .words.line3 {
            top: 50%;
            font-size: 1.1rem;
            text-align: center;
            color: #ff1493;
        }

        .words.line4 {
            top: 70%;
            font-size: 1.1rem;
            text-align: center;
            color: #ff1493;
        }

        .open .flap {
            transform: rotateX(180deg);
            transition: transform 0.4s ease, z-index 0.6s;
            z-index: 1;
        }

        .close .flap {
            transform: rotateX(0deg);
            transition: transform 0.4s 0.6s ease, z-index 1s;
            z-index: 5;
        }

        .close .letter {
            transform: translateY(0px);
            transition: transform 0.4s ease, z-index 1s;
            z-index: 1;
        }

        .open .letter {
            transform: translateY(-100px);
            transition: transform 0.4s 0.6s ease, z-index 0.6s;
            z-index: 2;
        }

        .hearts {
            position: absolute;
            top: 90px;
            left: 0;
            right: 0;
            z-index: 2;
        }

        .heart {
            position: absolute;
            bottom: 0;
            right: 10%;
        }

        .heart:before,
        .heart:after {
            position: absolute;
            content: "";
            left: 50px;
            top: 0;
            width: 50px;
            height: 80px;
            background: #e60073;
            border-radius: 50px 50px 0 0;
            transform: rotate(-45deg);
            transform-origin: 0 100%;
        }

        .heart:after {
            left: 0;
            transform: rotate(45deg);
            transform-origin: 100% 100%;
        }

        .close .heart {
            opacity: 0;
            animation: none;
        }

        .a1 {
            left: 20%;
            transform: scale(0.6);
            opacity: 1;
            animation: slideUp 4s linear 1, sideSway 2s ease-in-out 4 alternate;
            animation-fill-mode: forwards;
            animation-delay: 0.7s;
        }

        .a2 {
            left: 55%;
            transform: scale(1);
            opacity: 1;
            animation: slideUp 5s linear 1, sideSway 4s ease-in-out 2 alternate;
            animation-fill-mode: forwards;
            animation-delay: 0.7s;
        }

        .a3 {
            left: 10%;
            transform: scale(0.8);
            opacity: 1;
            animation: slideUp 7s linear 1, sideSway 2s ease-in-out 6 alternate;
            animation-fill-mode: forwards;
            animation-delay: 0.7s;
        }

        @keyframes slideUp {
            0% {
                top: 0;
            }
            100% {
                top: -600px;
            }
        }

        @keyframes sideSway {
            0% {
                margin-left: 0px;
            }
            100% {
                margin-left: 50px;
            }
        }

        .full-letter-content {
            margin-top: 30px;
            padding: 20px;
            background: #fff0f5;
            border-radius: 10px;
            display: none;
        }

        .full-letter-content.visible {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        .full-letter-content p {
            margin: 15px 0;
            line-height: 1.8;
            color: #333;
            font-family: 'Dancing Script', cursive;
            font-size: 18px;
        }

        /* Memory Tree */
        .memory-tree {
            width: 100%;
            max-width: 700px;
            margin: 20px auto;
            position: relative;
        }

        .tree-trunk {
            width: 60px;
            height: 100px;
            background: #8B4513;
            margin: 0 auto;
            border-radius: 10px;
            position: relative;
        }

        .tree-branches {
            position: relative;
            margin-top: -50px;
        }

        .branch {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 30px 0;
            gap: 40px;
            position: relative;
        }

        .branch::before {
            content: '';
            position: absolute;
            width: 2px;
            height: 40px;
            background: #8B4513;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
        }

        .branch.left .photo-frame {
            order: 1;
        }

        .branch.left .memory-info {
            order: 2;
        }

        .branch.right .photo-frame {
            order: 2;
        }

        .branch.right .memory-info {
            order: 1;
        }

        .photo-frame {
            width: 180px;
            height: 180px;
            background: white;
            border: 8px solid #ff69b4;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .photo-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .photo-placeholder {
            color: #ffb3d9;
            font-size: 20px;
            text-align: center;
        }

        .memory-info {
            max-width: 250px;
            background: #fff0f5;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #ff69b4;
        }

        .memory-date {
            font-size: 16px;
            color: #ff1493;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .memory-description {
            font-size: 16px;
            color: #666;
            line-height: 1.5;
        }

        /* Gift Options */
        .gift-options {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .gift-item {
            background: #fff0f5;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
        }

        .gift-item:hover {
            border-color: #ff69b4;
            transform: scale(1.05);
        }

        .gift-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 10px;
        }

        .gift-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .gift-name {
            font-size: 18px;
            color: #ff1493;
            font-weight: bold;
            text-align: center;
        }

        .gift-message {
            margin-top: 20px;
            font-size: 24px;
            color: #ff1493;
            font-weight: bold;
            animation: shake 0.5s;
            text-align: center;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Blooming Flower Garden - LEFT SIDE */
        .flower-garden {
            position: fixed;
            left: 50px;
            bottom: 0;
            width: 400px;
            height: 100vh;
            z-index: 7000;
            pointer-events: none;
            display: none;
            transform: scale(0.85);
            transform-origin: bottom left;
        }

        .flower-garden.visible {
            display: block;
        }

        .flower-garden.not-loaded * {
            animation-play-state: paused !important;
        }

        .flower {
            position: absolute;
            bottom: 10vmin;
            transform-origin: bottom center;
            z-index: 10;
        }

        .flower--1 {
            animation: moving-flower-1 4s linear infinite;
        }

        .flower--1 .flower__line {
            height: 80vmin;
            animation-delay: 0.3s;
        }

        .flower--2 {
            left: 50%;
            transform: rotate(20deg);
            animation: moving-flower-2 4s linear infinite;
        }

        .flower--2 .flower__line {
            height: 70vmin;
            animation-delay: 0.6s;
        }

        .flower--3 {
            left: 50%;
            transform: rotate(-15deg);
            animation: moving-flower-3 4s linear infinite;
        }

        .flower--3 .flower__line {
            height: 75vmin;
            animation-delay: 0.9s;
        }

        .flower__leafs {
            position: relative;
            animation: blooming-flower 2s backwards;
        }

        .flower__leafs--1 {
            animation-delay: 1.1s;
        }

        .flower__leafs--2 {
            animation-delay: 1.4s;
        }

        .flower__leafs--3 {
            animation-delay: 1.7s;
        }

        .flower__leafs::after {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            transform: translate(-50%, -100%);
            width: 8vmin;
            height: 8vmin;
            background-color: #ff69b4;
            filter: blur(10vmin);
        }

        .flower__leaf {
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 8vmin;
            height: 11vmin;
            border-radius: 51% 49% 47% 53% / 44% 45% 55% 69%;
            background: linear-gradient(to top, #ff69b4, #ffb6d9);
            transform-origin: bottom center;
            opacity: 0.9;
            box-shadow: inset 0 0 2vmin rgba(255, 255, 255, 0.5);
        }

        .flower__leaf--1 {
            transform: translate(-10%, 1%) rotateY(40deg) rotateX(-50deg);
        }

        .flower__leaf--2 {
            transform: translate(-50%, -4%) rotateX(40deg);
        }

        .flower__leaf--3 {
            transform: translate(-90%, 0%) rotateY(45deg) rotateX(50deg);
        }

        .flower__leaf--4 {
            width: 8vmin;
            height: 8vmin;
            transform-origin: bottom left;
            border-radius: 4vmin 10vmin 4vmin 4vmin;
            transform: translate(-0%, 18%) rotateX(70deg) rotate(-43deg);
            background: linear-gradient(to top, #ff1493, #ffb6d9);
            z-index: 1;
            opacity: 0.8;
        }

        .flower__white-circle {
            position: absolute;
            left: -3.5vmin;
            top: -3vmin;
            width: 9vmin;
            height: 4vmin;
            border-radius: 50%;
            background-color: #fff;
        }

        .flower__white-circle::after {
            content: "";
            position: absolute;
            left: 50%;
            top: 45%;
            transform: translate(-50%, -50%);
            width: 60%;
            height: 60%;
            border-radius: inherit;
            background: linear-gradient(90deg, #ffb6d9, #ffc0cb);
        }

        .flower__line {
            height: 55vmin;
            width: 1.5vmin;
            background: linear-gradient(to top, transparent 10%, #90EE90, #7FFF7F);
            box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.5);
            animation: grow-flower-tree 4s backwards;
        }

        .flower__line__leaf {
            --w: 7vmin;
            --h: calc(var(--w) + 2vmin);
            position: absolute;
            top: 20%;
            left: 90%;
            width: var(--w);
            height: var(--h);
            border-top-right-radius: var(--h);
            border-bottom-left-radius: var(--h);
            background: linear-gradient(to top, rgba(144, 238, 144, 0.4), #90EE90);
        }

        .flower__line__leaf--1 {
            transform: rotate(70deg) rotateY(30deg);
            animation: blooming-leaf-right 0.8s 1.6s backwards;
        }

        .flower__line__leaf--2 {
            top: 45%;
            transform: rotate(70deg) rotateY(30deg);
            animation: blooming-leaf-right 0.8s 1.4s backwards;
        }

        .flower__line__leaf--3,
        .flower__line__leaf--4,
        .flower__line__leaf--6 {
            border-top-right-radius: 0;
            border-bottom-left-radius: 0;
            border-top-left-radius: var(--h);
            border-bottom-right-radius: var(--h);
            left: -460%;
            top: 12%;
            transform: rotate(-70deg) rotateY(30deg);
            animation: blooming-leaf-left 0.8s 1.2s backwards;
        }

        .flower__line__leaf--4 {
            top: 40%;
            animation: blooming-leaf-left 0.8s 1s backwards;
        }

        .flower__line__leaf--5 {
            top: 0;
            transform-origin: left;
            transform: rotate(70deg) rotateY(30deg) scale(0.6);
            animation: blooming-leaf-right 0.8s 1.8s backwards;
        }

        .flower__line__leaf--6 {
            top: -2%;
            left: -450%;
            transform-origin: right;
            animation: blooming-leaf-left 0.8s 2s backwards;
        }

        .flower__light {
            position: absolute;
            bottom: 0vmin;
            width: 1vmin;
            height: 1vmin;
            background-color: #ff69b4;
            border-radius: 50%;
            filter: blur(0.2vmin);
            animation: light-ans 4s linear infinite backwards;
        }

        .flower__light:nth-child(odd) {
            background-color: #ffc0cb;
        }

        .flower__light--1 { left: -2vmin; animation-delay: 1s; }
        .flower__light--2 { left: 3vmin; animation-delay: 0.5s; }
        .flower__light--3 { left: -6vmin; animation-delay: 0.3s; }
        .flower__light--4 { left: 6vmin; animation-delay: 0.9s; }
        .flower__light--5 { left: -1vmin; animation-delay: 1.5s; }
        .flower__light--6 { left: -4vmin; animation-delay: 3s; }
        .flower__light--7 { left: 3vmin; animation-delay: 2s; }
        .flower__light--8 { left: -6vmin; animation-delay: 3.5s; }

        @keyframes moving-flower-1 {
            0%, 100% { transform: rotate(2deg); }
            50% { transform: rotate(-2deg); }
        }

        @keyframes moving-flower-2 {
            0%, 100% { transform: rotate(18deg); }
            50% { transform: rotate(14deg); }
        }

        @keyframes moving-flower-3 {
            0%, 100% { transform: rotate(-18deg); }
            50% { transform: rotate(-20deg) rotateY(-10deg); }
        }

        @keyframes blooming-leaf-right {
            0% {
                transform-origin: left;
                transform: rotate(70deg) rotateY(30deg) scale(0);
            }
        }

        @keyframes blooming-leaf-left {
            0% {
                transform-origin: right;
                transform: rotate(-70deg) rotateY(30deg) scale(0);
            }
        }

        @keyframes grow-flower-tree {
            0% {
                height: 0;
                border-radius: 1vmin;
            }
        }

        @keyframes blooming-flower {
            0% {
                transform: scale(0);
            }
        }

        @keyframes light-ans {
            0% {
                opacity: 0;
                transform: translateY(0vmin);
            }
            25% {
                opacity: 1;
                transform: translateY(-5vmin) translateX(-2vmin);
            }
            50% {
                opacity: 1;
                transform: translateY(-15vmin) translateX(2vmin);
                filter: blur(0.2vmin);
            }
            75% {
                transform: translateY(-20vmin) translateX(-2vmin);
                filter: blur(0.2vmin);
            }
            100% {
                transform: translateY(-30vmin);
                opacity: 0;
                filter: blur(1vmin);
            }
        }

        /* Lyrics Box - RIGHT SIDE */
        .lyrics-box {
            position: fixed;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
            width: 320px;
            max-height: 70vh;
            background: rgba(255, 255, 255, 0.95);
            border: 3px solid #ff69b4;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.3);
            padding: 20px;
            overflow-y: auto;
            z-index: 8888;
            display: none;
        }

        .lyrics-box.visible {
            display: block;
            animation: slideInRight 0.6s ease-out;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateY(-50%) translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateY(-50%) translateX(0);
            }
        }

        .lyrics-box::-webkit-scrollbar {
            width: 6px;
        }

        .lyrics-box::-webkit-scrollbar-track {
            background: rgba(255, 192, 203, 0.3);
            border-radius: 10px;
        }

        .lyrics-box::-webkit-scrollbar-thumb {
            background: #ff69b4;
            border-radius: 10px;
        }

        .lyrics-header {
            text-align: center;
            margin-bottom: 15px;
            padding-bottom: 12px;
            border-bottom: 2px solid #ffb6c1;
        }

        .lyrics-header h3 {
            font-size: 20px;
            margin: 0 0 5px 0;
            color: #ff1493;
            font-family: 'Dancing Script', cursive;
        }

        .lyrics-header p {
            font-size: 11px;
            color: #c71585;
            margin: 0;
        }

        .lyrics-content {
            color: #8b0045;
            font-size: 14px;
            line-height: 1.8;
            text-align: center;
            margin-bottom: 60px;
        }

        .lyrics-line {
            margin: 12px 0;
            opacity: 0.4;
            transition: all 0.3s ease;
            padding: 6px 10px;
            border-radius: 6px;
        }

        .lyrics-line.active {
            opacity: 1;
            font-size: 16px;
            font-weight: bold;
            background: linear-gradient(135deg, #ffe5ec, #ffc0cb);
            border: 2px solid #ff69b4;
            color: #ff1493;
            box-shadow: 0 3px 10px rgba(255, 105, 180, 0.3);
        }

        /* Music Controls - BELOW LYRICS BOX */
        .music-controls {
            position: fixed;
            right: 30px;
            bottom: calc(50vh - 35vh - 30px);
            width: 320px;
            text-align: center;
            z-index: 8889;
            display: none;
        }

        .music-controls.visible {
            display: block;
            animation: fadeInUp 0.5s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .pause-btn {
            padding: 12px 35px;
            font-size: 15px;
            background: white;
            color: #ff1493;
            border: 2px solid #ff1493;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
        }

        .pause-btn:hover {
            background: #ff1493;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 20, 147, 0.4);
        }

        .pause-btn span {
            position: relative;
            z-index: 1;
        }

        @media (max-width: 1200px) {
            .lyrics-box {
                right: 10px;
                width: 280px;
            }
            
            .music-controls {
                right: 10px;
                width: 280px;
            }

            .love-tree-container {
                left: 10px;
                width: 250px;
                height: 350px;
            }
        }

        @media (max-width: 768px) {
            .love-tree-container {
                width: 180px;
                height: 250px;
                left: 5px;
            }

            .tree-leaves {
                width: 120px;
                height: 120px;
            }

            .lyrics-box {
                width: 90%;
                right: 5%;
                left: 5%;
                top: auto;
                bottom: 100px;
                transform: none;
                max-height: 35vh;
            }

            .lyrics-box.visible {
                transform: none;
            }

            .music-controls {
                bottom: 50px;
                right: 5%;
                left: 5%;
                width: 90%;
            }

            .pause-btn {
                padding: 10px 25px;
                font-size: 13px;
            }
        }

        .celebration-gif {
            margin-top: 20px;
            text-align: center;
        }

        .celebration-gif img {
            max-width: 250px;
            border-radius: 15px;
        }

        @media (max-width: 768px) {
            .couple img {
                width: 120px;
                height: 120px;
            }

            h1 {
                font-size: 32px;
            }

            .buttons {
                flex-direction: column;
                gap: 20px;
            }

            .branch {
                flex-direction: column !important;
                gap: 15px;
            }

            .branch.left .photo-frame,
            .branch.right .photo-frame {
                order: 1;
            }

            .branch.left .memory-info,
            .branch.right .memory-info {
                order: 2;
            }

            .memory-info {
                max-width: 100%;
            }

            .panda-gif {
                width: 150px;
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Hearts Background -->
    <div id="hearts-container"></div>

    <!-- Couple Animation at Top -->
    <div class="couple-container">
        <div class="couple">
            <img src="https://media1.tenor.com/m/fM6x7zcqURIAAAAC/shakespaw.gif" alt="Bubu Dudu Love">
        </div>
    </div>

    <!-- Panda Bear GIF (shown when hovering over No) -->
    <div class="panda-gif" id="pandaGif">
        <img src="https://media1.tenor.com/m/S4h3Wd5NPcEAAAAC/dudu-shaking-bubu-couples.gif" alt="Panda beating bear">
    </div>

    <!-- Question Screen -->
    <div class="container">
        <div class="question-screen" id="questionScreen">
            <div class="cat-gif">
                <img src="https://media.tenor.com/5T9NoewNL9EAAAAi/bubu-dudu.gif" alt="Bubu asking">
            </div>
            <h1>Will You Be My Valentine?</h1>
            <div class="buttons">
                <button class="yes-btn" onclick="handleYes()">Yes!</button>
                <button class="no-btn" id="noBtn" onmouseover="handleNoHover()" onmouseout="hidePandaGif()">No</button>
            </div>
        </div>

        <!-- Answer Screen -->
        <div class="answer-screen" id="answerScreen">
            <div class="happy-gif">
                <img src="https://media1.tenor.com/m/Pl1izLBjpiwAAAAC/dudu-bubu-dudu-love.gif" alt="Happy Bubu Dudu">
            </div>
            <h2>Yes! I know my buddi!</h2>
            <h2 style="color: #ff1493;">Tesko e puvvuüåπ...Nuvve na lovvuuu!</h2>
            <div class="options">
                <div class="option-card" onclick="openLetter()">
                    <div class="option-icon">
                        <img src="https://media1.tenor.com/m/v4xmu4vSzQ4AAAAd/love-letter-love-letters.gif" alt="Love letter">
                    </div>
                    <div class="option-text">Love Letter</div>
                </div>
                <div class="option-card" onclick="openMemories()">
                    <div class="option-icon">
                        <img src="https://media.tenor.com/5hmbYHBTdtQAAAAi/dudu-bubu-camping-dudu.gif" alt="Memories">
                    </div>
                    <div class="option-text">Memories</div>
                </div>
                <div class="option-card" onclick="openGifts()">
                    <div class="option-icon">
                        <img src="https://media.tenor.com/N2zrXlml-qYAAAAi/christmas-birthday.gif" alt="Gifts">
                    </div>
                    <div class="option-text">Gifts</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Love Letter Modal with Envelope Animation -->
    <div class="modal" id="letterModal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('letterModal')">&times;</button>
            <h2 style="color: #ff1493; text-align: center; margin-bottom: 20px;">My Love Letter</h2>
            
            <div class="envlope-wrapper">
                <div id="envelope" class="close">
                    <div class="front flap"></div>
                    <div class="front pocket"></div>
                    <div class="letter">
                        <div class="words line1">To: My Buddi</div>
                        <div class="words line2">You are so beautiful</div>
                        <div class="words line3">That every time I see you</div>
                        <div class="words line4">My world stops...</div>
                    </div>
                    <div class="hearts">
                        <div class="heart a1"></div>
                        <div class="heart a2"></div>
                        <div class="heart a3"></div>
                    </div>
                </div>
            </div>

            <div class="full-letter-content" id="fullLetterContent">
                <p>My Dearest Buddi,</p>
                <p>From the moment you came into my life, every day has been brighter, every smile wider, and every moment more precious. You are the sunshine that warms my heart and the star that lights up my darkest nights.</p>
                <p>Your laughter is my favorite melody, your happiness is my greatest treasure, and your love is the most beautiful gift I could ever receive. With you, I've found my best friend, my partner in crime, and my forever Valentine.</p>
                <p>Thank you for being you - for your kindness, your beautiful soul, and for choosing to share your heart with me. I promise to cherish every moment we have together and to love you more with each passing day.</p>
                <p>Happy Valentine's Day, my buddi! Here's to us and to many more beautiful memories together!</p>
                <p style="text-align: right; margin-top: 30px;">Forever yours,<br>Your Asish</p>
            </div>

            <div class="celebration-gif">
                <img src="https://media.tenor.com/mKr-KcMW9RcAAAAi/cute-bears.gif" alt="Love celebration">
            </div>
        </div>
    </div>

    <!-- Memories Modal with Tree Design -->
    <div class="modal" id="memoriesModal">
        <div class="modal-content" style="max-width: 900px;">
            <button class="close-btn" onclick="closeModal('memoriesModal')">&times;</button>
            <h2 style="color: #ff1493; text-align: center; margin-bottom: 20px;">Our Memories</h2>
            
            <div class="memory-tree">
                <div class="tree-branches">
                    <!-- Branch 1 - Right -->
                    <div class="branch right">
                        <div class="photo-frame">
                            <img src="1.jpeg" alt="memory photo">
                        </div>
                        <div class="memory-info">
                            <div class="memory-date">The First Time I Saw You</div>
                            <div class="memory-description">  I saw you in school and had the smallest crush.I didn‚Äôt know then that you would become my whole world.</div>
                        </div>
                    </div>

                    <!-- Branch 2 - Left -->
                    <div class="branch left">
                        <div class="photo-frame">
                            <img src="2.jpeg" alt="memory photo">
                        </div>
                        <div class="memory-info">
                            <div class="memory-date">The Blue Dress</div>
                            <div class="memory-description">After two years, I saw you again in that blue dress‚Ä¶ and that was the moment I truly fell for you.</div>
                        </div>
                    </div>

                    <!-- Branch 3 - Right -->
                    <div class="branch right">
                        <div class="photo-frame">
                            <img src="3.jpeg" alt="memory photo">
                        </div>
                        <div class="memory-info">
                            <div class="memory-date">Our First Meet & Ride</div>
                            <div class="memory-description">The day we finally met and rode from college to your home. My heart still replays that journey.</div>
                        </div>
                    </div>

                    <!-- Branch 4 - Left -->
                    <div class="branch left">
                        <div class="photo-frame">
                            <img src="4.jpeg" alt="memory photo">
                        </div>
                        <div class="memory-info">
                            <div class="memory-date">Our Movie Date</div>
                            <div class="memory-description">Sitting next to you, sharing smiles and moments ‚Äî it felt warmer and closer than any movie scene.</div>
                        </div>
                    </div>

                    <!-- Branch 5 - Right -->
                    <div class="branch right">
                        <div class="photo-frame">
                            <img src="5.jpeg" alt="memory photo">
                        </div>
                        <div class="memory-info">
                            <div class="memory-date">The Tough Time</div>
                            <div class="memory-description">The day before everything almost broke because of misunderstandings. But love pulled us back stronger.</div>
                        </div>
                    </div>

                    <!-- Branch 6 - Left -->
                    <div class="branch left">
                        <div class="photo-frame">
                            <img src="6.jpeg" alt="memory photo">
                        </div>
                        <div class="memory-info">
                            <div class="memory-date">Six Years Strong</div>
                            <div class="memory-description">Now here we are ‚Äî stronger, closer, and still choosing each other. Six beautiful years and forever to go.</div>
                        </div>
                    </div>
                </div>
                
            </div>

            <div class="celebration-gif">
                <img src="https://media.tenor.com/gUiu1zyxfzYAAAAi/bear-kiss-bear-kisses.gif" alt="Happy couple">
            </div>
        </div>
    </div>

    <!-- Gifts Modal -->
    <div class="modal" id="giftsModal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('giftsModal')">&times;</button>
            <h2 style="color: #ff1493; text-align: center; margin-bottom: 20px;">Choose Your Gift</h2>
            <div class="gift-options">
                <div class="gift-item" onclick="selectGift('gold')">
                    <div class="gift-icon">
                        <img src="https://media1.tenor.com/m/bIpQIWhhG9kAAAAd/gold-gold-bar.gif" alt="Gold">
                    </div>
                    <div class="gift-name">Gold</div>
                </div>
                <div class="gift-item" onclick="selectGift('diamonds')">
                    <div class="gift-icon">
                        <img src="https://media1.tenor.com/m/2j8g-RxBXaYAAAAC/diamonds-are-forever.gif" alt="Diamond">
                    </div>
                    <div class="gift-name">Diamonds</div>
                </div>
                <div class="gift-item" onclick="selectGift('me')">
                    <div class="gift-icon">
                        <img src="https://media.tenor.com/ojXk1YeLHWkAAAAi/bubu-dudu-sseeyall.gif" alt="Me - Bubu Dudu">
                    </div>
                    <div class="gift-name">Me</div>
                </div>
            </div>
            <div id="giftMessage"></div>
        </div>
    </div>

    <!-- Blooming Flower Garden - LEFT SIDE -->
    <div class="flower-garden" id="flowerGarden">
        <div class="flower flower--1">
            <div class="flower__leafs flower__leafs--1">
                <div class="flower__leaf flower__leaf--1"></div>
                <div class="flower__leaf flower__leaf--2"></div>
                <div class="flower__leaf flower__leaf--3"></div>
                <div class="flower__leaf flower__leaf--4"></div>
                <div class="flower__white-circle"></div>

                <div class="flower__light flower__light--1"></div>
                <div class="flower__light flower__light--2"></div>
                <div class="flower__light flower__light--3"></div>
                <div class="flower__light flower__light--4"></div>
                <div class="flower__light flower__light--5"></div>
                <div class="flower__light flower__light--6"></div>
                <div class="flower__light flower__light--7"></div>
                <div class="flower__light flower__light--8"></div>
            </div>
            <div class="flower__line">
                <div class="flower__line__leaf flower__line__leaf--1"></div>
                <div class="flower__line__leaf flower__line__leaf--2"></div>
                <div class="flower__line__leaf flower__line__leaf--3"></div>
                <div class="flower__line__leaf flower__line__leaf--4"></div>
                <div class="flower__line__leaf flower__line__leaf--5"></div>
                <div class="flower__line__leaf flower__line__leaf--6"></div>
            </div>
        </div>

        <div class="flower flower--2">
            <div class="flower__leafs flower__leafs--2">
                <div class="flower__leaf flower__leaf--1"></div>
                <div class="flower__leaf flower__leaf--2"></div>
                <div class="flower__leaf flower__leaf--3"></div>
                <div class="flower__leaf flower__leaf--4"></div>
                <div class="flower__white-circle"></div>

                <div class="flower__light flower__light--1"></div>
                <div class="flower__light flower__light--2"></div>
                <div class="flower__light flower__light--3"></div>
                <div class="flower__light flower__light--4"></div>
                <div class="flower__light flower__light--5"></div>
                <div class="flower__light flower__light--6"></div>
                <div class="flower__light flower__light--7"></div>
                <div class="flower__light flower__light--8"></div>
            </div>
            <div class="flower__line">
                <div class="flower__line__leaf flower__line__leaf--1"></div>
                <div class="flower__line__leaf flower__line__leaf--2"></div>
                <div class="flower__line__leaf flower__line__leaf--3"></div>
                <div class="flower__line__leaf flower__line__leaf--4"></div>
            </div>
        </div>

        <div class="flower flower--3">
            <div class="flower__leafs flower__leafs--3">
                <div class="flower__leaf flower__leaf--1"></div>
                <div class="flower__leaf flower__leaf--2"></div>
                <div class="flower__leaf flower__leaf--3"></div>
                <div class="flower__leaf flower__leaf--4"></div>
                <div class="flower__white-circle"></div>

                <div class="flower__light flower__light--1"></div>
                <div class="flower__light flower__light--2"></div>
                <div class="flower__light flower__light--3"></div>
                <div class="flower__light flower__light--4"></div>
                <div class="flower__light flower__light--5"></div>
                <div class="flower__light flower__light--6"></div>
                <div class="flower__light flower__light--7"></div>
                <div class="flower__light flower__light--8"></div>
            </div>
            <div class="flower__line">
                <div class="flower__line__leaf flower__line__leaf--1"></div>
                <div class="flower__line__leaf flower__line__leaf--2"></div>
                <div class="flower__line__leaf flower__line__leaf--3"></div>
                <div class="flower__line__leaf flower__line__leaf--4"></div>
            </div>
        </div>
    </div>

    <!-- Lyrics Box - RIGHT SIDE -->
    <div class="lyrics-box" id="lyricsBox">
        <div class="lyrics-header">
            <h3>‚ô´ Meant to Be ‚ô´</h3>
            <p>Our Love Story</p>
        </div>
        <div class="lyrics-content" id="lyricsContent">
            <!-- Lyrics will be added here -->
        </div>
    </div>

    <!-- Music Controls - BELOW LYRICS -->
    <div class="music-controls" id="musicControls">
        <button class="pause-btn" id="pauseBtn" onclick="toggleMusic()"><span>‚è∏ Pause</span></button>
    </div>

    <!-- Background Audio -->
    <audio id="backgroundMusic" preload="auto">
        <source src="meant_to_be.mp3" type="audio/mpeg">
    </audio>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        // Create floating hearts
        function createHearts() {
            const container = document.getElementById('hearts-container');
            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 3 + 3) + 's';
                heart.style.animationDelay = Math.random() * 5 + 's';
                container.appendChild(heart);
            }
        }

        createHearts();

        let noHoverCount = 0;

        // Handle No button hover
        function handleNoHover() {
            noHoverCount++;
            
            // Show panda gif
            const pandaGif = document.getElementById('pandaGif');
            pandaGif.classList.add('visible');
            
            // Move the button
            const noBtn = document.getElementById('noBtn');
            const container = document.querySelector('.container');
            
            // Random position within viewport
            const maxX = window.innerWidth - noBtn.offsetWidth - 40;
            const maxY = window.innerHeight - noBtn.offsetHeight - 40;
            
            let randomX = Math.random() * maxX;
            let randomY = Math.random() * maxY;
            
            // Ensure it's not too close to the yes button
            const yesBtn = document.querySelector('.yes-btn');
            const yesBtnRect = yesBtn.getBoundingClientRect();
            
            if (Math.abs(randomX - yesBtnRect.left) < 200 && Math.abs(randomY - yesBtnRect.top) < 100) {
                randomX = yesBtnRect.left > window.innerWidth / 2 ? 50 : maxX - 50;
            }
            
            noBtn.style.position = 'fixed';
            noBtn.style.left = randomX + 'px';
            noBtn.style.top = randomY + 'px';
        }

        function hidePandaGif() {
            setTimeout(() => {
                const pandaGif = document.getElementById('pandaGif');
                pandaGif.classList.remove('visible');
            }, 1000);
        }

        // Handle Yes button click
        function handleYes() {
            document.getElementById('questionScreen').classList.add('hidden');
            document.getElementById('answerScreen').classList.add('visible');
            
            // Play music and show lyrics IMMEDIATELY
            playMusicWithLyrics();
        }

        // Envelope functionality
        $(document).ready(function () {
            var envelope = $("#envelope");

            envelope.click(function () {
                if (envelope.hasClass("close")) {
                    envelope.addClass("open").removeClass("close");
                    setTimeout(function() {
                        $('#fullLetterContent').addClass('visible');
                    }, 1000);
                }
            });
        });

        // Open modals
        function openLetter() {
            document.getElementById('letterModal').classList.add('visible');
            // Reset envelope
            $('#envelope').addClass('close').removeClass('open');
            $('#fullLetterContent').removeClass('visible');
        }

        function openMemories() {
            document.getElementById('memoriesModal').classList.add('visible');
        }

        function openGifts() {
            document.getElementById('giftsModal').classList.add('visible');
            document.getElementById('giftMessage').innerHTML = '';
        }

        // Close modal
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('visible');
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('visible');
            }
        }

        // Handle gift selection
       function selectGift(gift) {
    const messageDiv = document.getElementById('giftMessage');

    if (gift === 'gold') {
        messageDiv.innerHTML = `
            <div class="gift-message">
                Gold aa? üòè<br>
                Nice‚Ä¶ but I‚Äôm still more precious!
            </div>
            <div class="celebration-gif">
                <img src="https://media1.tenor.com/m/Rvqhj0q2_BkAAAAC/dudu-bubu-hit.gif" alt="Gold reaction">
            </div>
        `;
    } 
    else if (gift === 'diamonds') {
        messageDiv.innerHTML = `
            <div class="gift-message">
                Diamonds? üíé<br>
                Sparkly‚Ä¶ but I shine brighter!
            </div>
            <div class="celebration-gif">
                <img src="https://media.tenor.com/R1oVKTn0f0UAAAAi/tkthao219-bubududu.gif" alt="Diamond reaction">
            </div>
        `;
    } 
    else if (gift === 'me') {
        messageDiv.innerHTML = `
            <div class="gift-message">
                Best choice ever! ‚ù§Ô∏è<br>
                You have me forever!
            </div>
            <div class="celebration-gif">
                <img src="https://media.tenor.com/hsAGv-eniwsAAAAi/bubu-yier-iklog.gif" alt="Best choice">
            </div>
        `;
    } 
    else {
        messageDiv.innerHTML = `
            <div class="gift-message">
                Hmm‚Ä¶ interesting choice ü§î
            </div>
        `;
    }
}

        // Play music and show lyrics

        // Toggle music play/pause
        function toggleMusic() {
            const audio = document.getElementById('backgroundMusic');
            const btn = document.getElementById('pauseBtn');
            
            if (audio.paused) {
                audio.play();
                btn.innerHTML = '<span>‚è∏ Pause</span>';
            } else {
                audio.pause();
                btn.innerHTML = '<span>‚ñ∂ Play</span>';
            }
        }

        // Play music with synced lyrics and show flower garden
        function playMusicWithLyrics() {
            const audio = document.getElementById('backgroundMusic');
            const lyricsBox = document.getElementById('lyricsBox');
            const content = document.getElementById('lyricsContent');
            const controls = document.getElementById('musicControls');
            const flowerGarden = document.getElementById('flowerGarden');
            
            // Lyrics with timing - ADJUSTED FOR YOUR SONG
            const lyricsWithTiming = [
                { time: 2, text: "We were fifteen, hearts playing hide and seek" },
                { time: 7, text: "Every little glance made my knees go weak" },
                { time: 12, text: "Didn't say it, but we both knew" },
                { time: 16, text: "Somehow my world began with you" },
                { time: 21, text: "‚ô™" },
                { time: 24, text: "Years rolled on, life took a turn" },
                { time: 29, text: "But some flames are born to burn" },
                { time: 34, text: "One hello and the past felt new" },
                { time: 38, text: "Like every road was leading to you" },
                { time: 43, text: "‚ô™" },
                { time: 46, text: "From maybe‚Ä¶ to always" },
                { time: 50, text: "From someday‚Ä¶ to today" },
                { time: 54, text: "‚ô™" },
                { time: 57, text: "We were meant to be ‚ù§Ô∏è" },
                { time: 62, text: "Even time agreed" },
                { time: 66, text: "Through the space between" },
                { time: 70, text: "You came back to me" },
                { time: 75, text: "Now the stars all shine" },
                { time: 79, text: "Like they always knew" },
                { time: 83, text: "Every heart of mine" },
                { time: 87, text: "Was waiting for you" },
                { time: 92, text: "‚ô™" },
                { time: 98, text: "March twenty-first, you said yes" },
                { time: 103, text: "Turned my life to happiness" },
                { time: 108, text: "We were love everybody saw" },
                { time: 112, text: "Perfect without a flaw" },
                { time: 117, text: "‚ô™" },
                { time: 120, text: "Then we stumbled, lost our way" },
                { time: 125, text: "But love never truly fades" },
                { time: 130, text: "If it's real, it will return" },
                { time: 134, text: "And oh my God, how it burned" },
                { time: 139, text: "‚ô™" },
                { time: 142, text: "From heartbreak‚Ä¶ to forever" },
                { time: 146, text: "Now we're better than ever" },
                { time: 151, text: "‚ô™" },
                { time: 154, text: "We were meant to be ‚ù§Ô∏è" },
                { time: 159, text: "Even time agreed" },
                { time: 163, text: "Through the nights apart" },
                { time: 167, text: "You came back to me" },
                { time: 172, text: "Now I hold your hand" },
                { time: 176, text: "Like a dream come true" },
                { time: 180, text: "Every plan I plan" },
                { time: 184, text: "Has a place for you" },
                { time: 189, text: "‚ô™" },
                { time: 192, text: "You were always meant for me ‚ù§Ô∏è" }
            ];
            
            // Create lyrics elements
            content.innerHTML = '';
            lyricsWithTiming.forEach((lyric, index) => {
                const lineDiv = document.createElement('div');
                lineDiv.className = 'lyrics-line';
                lineDiv.id = 'line-' + index;
                lineDiv.textContent = lyric.text;
                content.appendChild(lineDiv);
            });
            
            // Show flower garden with animation start
            flowerGarden.classList.add('visible');
            flowerGarden.classList.remove('not-loaded');
            
            // Start music
            audio.play().catch(e => console.log('Audio play failed:', e));
            
            // Show lyrics box and controls
            lyricsBox.classList.add('visible');
            controls.classList.add('visible');
            
            // Sync lyrics with audio
            let currentLineIndex = -1;
            
            audio.addEventListener('timeupdate', function() {
                const currentTime = audio.currentTime;
                
                for (let i = lyricsWithTiming.length - 1; i >= 0; i--) {
                    if (currentTime >= lyricsWithTiming[i].time) {
                        if (i !== currentLineIndex) {
                            if (currentLineIndex >= 0) {
                                const prevLine = document.getElementById('line-' + currentLineIndex);
                                if (prevLine) prevLine.classList.remove('active');
                            }
                            
                            currentLineIndex = i;
                            const activeLine = document.getElementById('line-' + currentLineIndex);
                            if (activeLine) {
                                activeLine.classList.add('active');
                                activeLine.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            }
                        }
                        break;
                    }
                }
            });
        }


    </script>
</body>
</html>